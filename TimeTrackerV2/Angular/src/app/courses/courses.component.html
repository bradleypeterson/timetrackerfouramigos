<div id="courses" class="position-relative" ng-cloak>
  <div class="row">
    <h3 class="mt-3 float-left">Courses</h3>
    <div class="ml-auto mr-0 mt-4 mb-2">
      <!-- ng-model="search" -->
      <input class="mr-2" type="text" name="search" placeholder="Search..." style="width: 130px;" />
      <!-- ng-if="$parent.user.type === 'A' || $parent.user.type === 'I'" -->
      <div class="pretty p-switch p-slim mr-1">
        <!-- ng-model="config.showInactiveCourses" -->
        <input type="checkbox" />
        <!-- ng-if="$parent.user.type === 'A' || $parent.user.type === 'I'" -->
        <div class="float-left mr-2 mt-2 state">
          <label>Show Inactive</label>
        </div>
      </div>
      <!-- ng-if="$parent.user.type === 'A' || $parent.user.type === 'I'" ng-click="createCourse()" -->
      <!-- (click)="createCourse()" -->
      <button (click)="revealForm()" [hidden]="isInstructor == false">
        <div class="fa fa-plus mr-2 big-button align-bottom" title="Create a new course."></div>
      </button>

    </div>
    <div [hidden]="bvis == false">

     <div class="card-body">
      <form [formGroup]="courseForm" (ngSubmit)="createCourse()">
        <div>
          <p style="color: red;">{{ errMsg }}</p>
        </div>
        <div class="input-group">
          <input id="courseName" formControlName="courseName" type="text" class="form-control bg-light" style="border: none; border-bottom-right-radius: 0;" name="courseName" placeholder="Course Name" ng-model="courseName">
        </div>
        <div class="input-group" style="margin-top: 1px;">
          <input id="description" formControlName="description" type="text-block" class="form-control bg-light" style="border: none; border-top-right-radius: 0;  border-bottom-right-radius: 0;" name="description" placeholder="Description" ng-model="description">
        </div>
        <div class="row mt-2 pl-3 pr-3">

          <button (click)="hideForm()" type="button" class="btn btn-danger col mr-1" >Cancel</button>

          <button type="submit" class="btn btn-primary col ml-1">Create Course</button>
        </div>

      </form>
    </div>
  </div>

  </div>

  <h4 class="mt-3 float-left">All Courses</h4>
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Course Name</th>
        <th>Instructor</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <!--  ng-repeat="c in courses | filter: search" ng-if="c.isActive || config.showInactiveCourses" ng-class="{inactive: !c.isActive}" -->
      <tr *ngFor="let course of courses">
        <td (click)="setCourseAndMove(course)">{{course.courseName}}</td>
        <td>{{course.firstName}} {{course.lastName}}</td>
          <td [hidden]="isInstructor == true">
            <button ng-click="disabled" id="joinbtn" (click)="joinCourse(course)" [hidden]="!course.display && course.pending" class="btn btn-primary mr-1">Join Course</button>
            <button id="pendingbtn" [hidden]="!course.pending" class="btn btn-warning mr-1">pending</button>
            <button id="leavebtn" [hidden]="course.display" class="btn btn-danger mr-1">Leave Course</button>
        </td>

    </tbody>
  </table>

  <h4 class="mt-3 float-left">Your Courses</h4>
  <table class="table table-hover">
    <thead>
    <tr>
      <th>Course Name</th>
      <th>Instructor</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <!--  ng-repeat="c in courses | filter: search" ng-if="c.isActive || config.showInactiveCourses" ng-class="{inactive: !c.isActive}" -->
<!--    <tr *ngFor="let course of acceptedCR">-->
<!--      <td (click)="setCourseAndMove(course)">{{course.courseName}}</td>-->
<!--      <td>{{course.instructorName}}</td>-->
<!--      <td><button [hidden]="isInstructor == true" class="btn btn-danger mr-1">Leave Course</button></td>-->

    </tbody>
  </table>
</div>
